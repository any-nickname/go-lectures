На Go разрабатывается огромное количество сложного программного обеспечения, использующего множество разных технологий и методик.
<h5>Минимальная программа на Go</h5>
Это файл с расширением `.go`, в котором указан исполняемый пакет `main` (`main` - пакет-точка входа) и функция `main()` (точка входа).
<h5>Порядок программы</h5>
- Имя пакета
- Импорт зависимостей
- Глобальные объявления
- `main()`
- функции
<h5>Структура каталогов программы</h5>
Структура каталогов является договорённостью, а не правилом, но эта договорённость очень важна.

Каждое приложение помещается в отдельный каталог (например project/). В каждом каталоге есть подкаталоги.
В подкаталог /cmd мы помещаем исполняемый пакет (main), в котором точка входа в наше приложение.
Бывает, что в одном приложении есть несколько исполняемых пакетов - тогда в /cmd будет несколько каталогов, но чаще всего там один каталог, являющийся точкой входа для нашего приложения.
Следующий подкаталог /pkg содержит подключаемые пакеты. В пакетах содержится сгруппированный по назначению код. В примере: /proto (пакеты для серверов различных протоколов, пакет /http для http-сервера, пакет /rpc для rpc-сервера), /db (пакеты для postgres и mysql).

- Корневой каталог проекта
	- Каталог **cmd** (содержит исполняемые пакеты)
	- Каталог **pkg** (содержит подключаемые пакеты)
![[Pasted image 20240629120938.png]]

Наименования файлов и директорий в Go желательно писать одним словом, как можно короче. Но если не получается, то именовать с подчёркиваниями, в стиле snake_case. PascalCase, camelCase используется для именования констант, переменных и функций.
___
<h5>Инструментарий языка</h5>
-`go help command`
помощь по конкретной команде

`go run main.go`
компиляция и запуск файла main.go (. - все файлы текущего каталога), после завершения работы программы, бинарник удаляется

`go build main.go`
компиляция файла main.go (. - все файлы текущего каталога)
				`-race`
				компиляция файла main.go с детектором гонки

`go get`
скачать все зависимости из интернета

`go test`
(фреймворк тестирования) выполнение всех тестов из текущего каталога
		`-v`
		подробный вывод
		`-race`
		с детектором гонки
		`run "имя теста"`
		запуск одного теста
		`-bench=.`
		запуск также и тестов производительности
		`-cover`
		вывод покрытия кода тестами в %

`go env`
переменные окружения языка (полезно, если что-то не так)

`go fmt`
форматирование кода (IDE запускает автоматически при сохранении)

`go vet`
базовый линтер (IDE запускает автоматически, не даст скомпилироваться)

`go doc "пакет"`
генерирует документацию (. или без аргументов - для пакета из текущего каталога)

`Debugger`
https://github.com/go-delve/delve
отладчик, устанавливается средствами IDE и интегрируется с ней; когда-то это был отдельный проект, но он стал частью go

`Profiler`
**net/http/pprof**
пакет для анализа производительности (профайлер); требует запуска http-сервера и сопоставления специальных ссылок функциям-обработчикам; имеет веб и CLI- интерфейсы. Поддерживается визуализация в виде огненных графиков и обычных графов; показывает что съедает память, куда утекают горутины, что съедает процессор и т.д.

`IDE`
**VS Code** - самая популярная
**GoLand** - самая крутая, но платная

`Linter`
**golangci-lint** - самый быстрый на сегодня набор линтеров (около десятка) под одним зонтиком для комплексной проверки кода
___
<h5>Что такое линтер</h5>
Линтер - программа, выполняющая статический анализ кода.

Что значит статический? То есть это код в статике, когда мы его не компилируем, не запускаем. Как он есть, так он и анализируется.

Линтер анализирует код и ищет типовые ошибки: бесконечные циклы, недостижимые блоки кода, неиспользуемые переменные, необработанные ошибки и т.д.
___
<h5>Ситуация гонки</h5>
Ситуация гонки - ситуация, характерная для конкурентного программирования, когда несколько потоков команд пытаются обратиться к одной и той же области памяти в одно и то же время.
___
<h5>Экспортируемые и неэкспортируемые идентификаторы</h5>
In Go, a function whose name starts with a capital letter can be called by a function not in the same package. This is known in Go as an exported name. For more about exported names, see [Exported names](https://go.dev/tour/basics/3) in the Go tour.

In Go, a name is exported if it begins with a capital letter. For example, `Pizza` is an exported name, as is `Pi`, which is exported from the `math` package.

`pizza` and `pi` do not start with a capital letter, so they are not exported.

When importing a package, you can refer only to its exported names. Any "unexported" names are not accessible from outside the package.

<h5>Именованные возвращаемые значения</h5>
Go's return values may be named. If so, they are treated as variables defined at the top of the function.

These names should be used to document the meaning of the return values.

A `return` statement without arguments returns the named return values. This is known as a "naked" return.

Naked return statements should be used only in short functions, as with the example shown here. They can harm readability in longer functions.